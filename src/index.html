<!DOCTYPE html>

<!--
  LIGHTSTREAMER - www.lightstreamer.com
  Basic Chat Demo
  
  Copyright (c) Lightstreamer Srl

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<html ng-app="ls_angular">
  <head>
    <title>Lightstreamer :: AngularJS & ng-grid :: Stock-List Demo</title>
  
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.2/angular.min.js"></script>
    <script src="js/require.js"></script>
    <script src="js/lightstreamer.min.js"></script>
    <script src="js/controller.js"></script>
    
    <link rel="stylesheet" type="text/css" href="css/demo.css" />
  </head>
  <body ng-cloak>
  <a href="https://github.com/Lightstreamer/Lightstreamer-example-StockList-client-angular" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0; z-index:1" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
    <div id="wrap">
      <div>
        <a id="logo" href="http://www.lightstreamer.com" target="_blank"><img src="images/logo.png" alt="LIGHTSTREAMER" hspace="0" border="0" /></a>
        <a id="logoAngular" href="http://angularjs.org/" target="_blank"><img src="images/angular.png" alt="LIGHTSTREAMER" hspace="0" border="0" /></a>
        
        <div id="title">BASIC STOCK-LIST DEMO</div>
      </div>
      
      <div id="content">
        <div class="desc mainDesc">
          These demos show the integration between Lightstreamer JavaScript Client library and Google's AngularJS.<br/>
          <br/>
          To learn more visit the <a href="https://github.com/Lightstreamer/Lightstreamer-example-StockList-client-angular">project page on github</a> 
          and explore the source code of the application.
         </div>
        <h2>Access by name</h2>
        <div class="desc">
          In this first example the model behind the view is made by a JSON object that is expanded by angular using a single ng-repeat directive.
          Each item is indexed in the object by item name: the resulting iteration produces a table that is not ordered.
        </div> 
        <div ng-controller="Controller">
          <table>
              <thead>
                <tr>
                  <td>Name</td>
                  <td>Last</td>
                  <td>Time</td>
                  <td>Change</td>
                  <td>Bid Size</td>
                  <td>Bid</td>
                  <td>Ask</td>
                  <td>Ask Size</td>
                  <td>Min</td>
                  <td>Max</td>
                  <td>Ref.</td>
                  <td>Open</td>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="item in items">
                  <td class="leftAlign">{{item.stock_name}}</td>
                  <td>{{item.last_price}}</td>
                  <td>{{item.time}}</td>  
                  <td>{{item.pct_change}}</td>  
                  <td>{{item.bid_quantity}}</td>  
                  <td>{{item.bid}}</td>
                  <td>{{item.ask}}</td>
                  <td>{{item.ask_quantity}}</td>
                  <td>{{item.min}}</td>
                  <td>{{item.max}}</td>
                  <td>{{item.ref_price}}</td>
                  <td>{{item.open_price}}</td>
                </tr>
              <tbody>
           </tbody>
         </table>
        </div>
        
        <h2>Iterate through index</h2>
        <div class="desc">
          In this case the model is composed by an Array of Arrays that is expanded using two nested ng-repeat directives.
          Each item keeps its own index in the resulting array, that's why the table results sorted by stock name.
        </div>
        <div ng-controller="Controller_index">
          <table>
            <thead>
              <tr>
                <td>Name</td>
                <td>Last</td>
                <td>Time</td>  
                <td>Change</td>  
                <td>Bid Size</td>  
                <td>Bid</td>
                <td>Ask</td>
                <td>Ask Size</td>
                <td>Min</td>
                <td>Max</td>
                <td>Ref.</td>
                <td>Open</td>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in items track by $index">
                <td ng-repeat="field in item track by $index" ng-class="{leftAlign: $index==0}">{{field}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <h2>Use <a href="http://angular-ui.github.io/ui-grid/" target="_blank">ng-grid</a></h2>
        <div class="desc">
          In this case the view is composed by ng-grid (thus the model behind is structured as ng-grid requires). 
          This makes to manipulate the data using all the features exposed by that library.
        </div>
        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/ng-grid/2.0.7/ng-grid.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-grid/2.0.7/ng-grid.js"></script>
        <div ng-controller="Controller_grid">
          <div class="gridStyle" ng-grid="gridOptions"></div>
        </div>
        
      </div>
      
    </div>
    
  </body>
</html>